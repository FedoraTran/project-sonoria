<div class="upload-container">
	<div class="upload-left">
			<div class="drop-area" (dragover)="$event.preventDefault()" (drop)="onFileDrop($event)" (click)="mp3Input.click()">
				<input type="file" #mp3Input accept="audio/mp3,audio/wav,audio/ogg" (change)="onMp3Change($event)" hidden />
						<div class="drop-icon">
							<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M32 44V20M32 20l-8 8M32 20l8 8" stroke="#b3b3b3" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
								<rect x="8" y="44" width="48" height="8" rx="4" fill="#b3b3b3"/>
							</svg>
						</div>
						<div class="drop-text">
							<ng-container *ngIf="mp3FileName; else dropPrompt">
								<span class="mp3-file-name">{{ mp3FileName }}</span>
							</ng-container>
							<ng-template #dropPrompt>
								Drag &amp; drop file<br><span class="or-text">or click to upload mp3</span>
							</ng-template>
						</div>
			</div>
	</div>
	<div class="upload-right">
		<div class="info-title">Informations</div>
		<form #uploadForm="ngForm" (ngSubmit)="onSubmit()" autocomplete="off">
			<input class="input" name="title" [(ngModel)]="title" placeholder="Title" required />
			<input class="input" name="artist" [(ngModel)]="artist" placeholder="Artist" required />
			<select class="input" name="category" [(ngModel)]="category" required>
				<option value="" disabled selected>Category</option>
				<option *ngFor="let c of categories" [value]="c">{{c}}</option>
			</select>
			<input *ngIf="category === 'Other'" class="input" name="customCategory" [(ngModel)]="customCategory" placeholder="Enter custom category (optional)" [required]="false" />
			<div class="img-upload-box" (click)="imgInput.click()">
				<input type="file" #imgInput accept="image/*" (change)="onImgChange($event)" hidden />
				<ng-container *ngIf="imgPreview; else uploadImgText">
					<img [src]="imgPreview" alt="preview" class="img-preview" />
				</ng-container>
				<ng-template #uploadImgText>
					<span>Upload img</span>
				</ng-template>
			</div>
			<button class="upload-btn" type="submit" [disabled]="!uploadForm.form.valid">&#8682; Upload</button>
		</form>
	</div>
</div>
